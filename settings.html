<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurações - Livro de Receitas Históricas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/themes.css">
    <style>
        :root {
            --primary-color: #4A90E2;
            --secondary-color: #50C878;
            --accent-color: #E94B3C;
            --warning-color: #F4D03F;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color), #3a7bc8);
            color: white;
            padding: 1rem 0;
        }
        
        .settings-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: #3a7bc8;
            border-color: #3a7bc8;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: #43a866;
            border-color: #43a866;
        }
        
        .btn-accent {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
        }
        
        .btn-accent:hover {
            background-color: #d14335;
            border-color: #d14335;
        }
        
        .language-option {
            padding: 10px 15px;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .language-option.active {
            border-color: var(--primary-color);
            background-color: #e6f0ff;
        }
        
        .language-option:hover {
            background-color: #f0f5ff;
        }
        
        .theme-option {
            padding: 10px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 10px;
        }
        
        .theme-option.active {
            border-color: var(--primary-color);
            background-color: #e6f0ff;
        }
        
        .theme-option:hover {
            background-color: #f8f9fa;
        }
        
        .font-preview {
            font-family: inherit;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            background-color: #f8f9fa;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h1 class="h4 mb-0">Sabores e Sabores</h1>
                    <p class="mb-0">Livro de Receitas Históricas</p>
                </div>
                <div class="col-md-6 text-end">
                    <a href="index.html" class="btn btn-outline-light btn-sm"><i class="fas fa-arrow-left"></i> Voltar</a>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-4">
        <h2 class="mb-4">Configurações</h2>
        
        <div class="row">
            <div class="col-md-3">
                <div class="settings-card">
                    <h5><i class="fas fa-cogs me-2 text-primary"></i> Menu de Configurações</h5>
                    <div class="list-group mt-3">
                        <button class="list-group-item list-group-item-action active" id="languageSettingsBtn">
                            <i class="fas fa-globe-americas me-2"></i> Idioma
                        </button>
                        <button class="list-group-item list-group-item-action" id="profileSettingsBtn">
                            <i class="fas fa-user-cog me-2"></i> Perfil
                        </button>
                        <button class="list-group-item list-group-item-action" id="appearanceSettingsBtn">
                            <i class="fas fa-paint-brush me-2"></i> Aparência
                        </button>
                        <button class="list-group-item list-group-item-action" id="notificationsSettingsBtn">
                            <i class="fas fa-bell me-2"></i> Notificações
                        </button>
                        <button class="list-group-item list-group-item-action" id="privacySettingsBtn">
                            <i class="fas fa-shield-alt me-2"></i> Privacidade
                        </button>
                        <button class="list-group-item list-group-item-action" id="aboutSettingsBtn">
                            <i class="fas fa-info-circle me-2"></i> Sobre
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="col-md-9">
                <!-- Idioma Settings -->
                <div class="settings-card" id="languageSettings">
                    <h4><i class="fas fa-globe-americas text-primary me-2"></i> Idioma</h4>
                    <p class="text-muted">Selecione o idioma do aplicativo</p>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="language-option active" id="portugueseOption">
                                <div class="d-flex align-items-center">
                                    <div class="fs-3 me-3">
                                        <i class="fas fa-flag-br me-2"></i>
                                    </div>
                                    <div>
                                        <h5 class="mb-0">Português (Brasil)</h5>
                                        <p class="text-muted mb-0">Idioma padrão para as escolas de Campo Grande</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="language-option" id="englishOption">
                                <div class="d-flex align-items-center">
                                    <div class="fs-3 me-3">
                                        <i class="fas fa-flag-usa me-2"></i>
                                    </div>
                                    <div>
                                        <h5 class="mb-0">English (US)</h5>
                                        <p class="text-muted mb-0">Tradução disponível para contextos bilíngues</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <h5>Contribuir com Traduções</h5>
                        <p>Você pode ajudar a melhorar as traduções deste aplicativo. Se tiver interesse, entre em contato conosco!</p>
                        <button class="btn btn-outline-primary">
                            <i class="fas fa-hands-helping me-1"></i> Quero Ajudar com Traduções
                        </button>
                    </div>
                </div>
                
                <!-- Perfil Settings -->
                <div class="settings-card d-none" id="profileSettings">
                    <h4><i class="fas fa-user-cog text-success me-2"></i> Perfil</h4>
                    <p class="text-muted">Informações do usuário</p>
                    
                    <div class="row mb-4">
                        <div class="col-md-3 text-center mb-3">
                            <div class="position-relative d-inline-block">
                                <img src="https://via.placeholder.com/150x150/4A90E2/FFFFFF?text=Foto" alt="Foto de perfil" class="rounded-circle img-fluid" id="profileImage">
                                <button class="btn btn-sm btn-primary position-absolute bottom-0 end-0 rounded-circle" id="changePhotoBtn">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="mb-3">
                                <label class="form-label">Nome Completo</label>
                                <input type="text" class="form-control" id="fullName" value="Aluno Exemplar">
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Turma</label>
                                    <select class="form-select" id="studentClass">
                                        <option>6º Ano A</option>
                                        <option>6º Ano B</option>
                                        <option>7º Ano A</option>
                                        <option>7º Ano B</option>
                                        <option>8º Ano A</option>
                                        <option>8º Ano B</option>
                                        <option>9º Ano A</option>
                                        <option>9º Ano B</option>
                                    </select>
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Professor Responsável</label>
                                    <input type="text" class="form-control" id="teacherName" value="Luís Felipe Mesquita Granja" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="btn btn-outline-secondary me-md-2" id="resetProfileBtn">
                            <i class="fas fa-undo me-1"></i> Restaurar
                        </button>
                        <button class="btn btn-success" id="saveProfileBtn">
                            <i class="fas fa-save me-1"></i> Salvar Perfil
                        </button>
                    </div>
                </div>
                
                <!-- Aparência Settings -->
                <div class="settings-card d-none" id="appearanceSettings">
                    <h4><i class="fas fa-paint-brush text-warning me-2"></i> Aparência</h4>
                    <p class="text-muted">Personalize a aparência do aplicativo</p>
                    
                    <div class="mb-4">
                        <h5>Tema</h5>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="theme-option active" id="lightThemeOption">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-sun fa-2x text-warning"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0">Claro</h6>
                                            <p class="text-muted mb-0 small">Tema padrão com fundos claros</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="theme-option" id="darkThemeOption">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-moon fa-2x text-primary"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0">Escuro</h6>
                                            <p class="text-muted mb-0 small">Tema com fundos escuros</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="theme-option" id="autoThemeOption">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-adjust fa-2x text-info"></i>
                                        </div>
                                        <div>
                                            <h6 class="mb-0">Automático</h6>
                                            <p class="text-muted mb-0 small">Seguir preferência do sistema</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h5>Tamanho da Fonte</h5>
                        <div class="row align-items-center">
                            <div class="col-md-3">
                                <label class="form-label">Tamanho</label>
                            </div>
                            <div class="col-md-6">
                                <input type="range" class="form-range" id="fontSizeRange" min="12" max="24" step="2" value="16">
                            </div>
                            <div class="col-md-3">
                                <span class="badge bg-primary" id="fontSizeValue">16px</span>
                            </div>
                        </div>
                        
                        <div class="font-preview mt-3" id="fontPreview">
                            <p class="mb-1">Exemplo de texto com o tamanho selecionado.</p>
                            <p class="mb-0">Este é um exemplo de como o texto aparecerá no aplicativo.</p>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h5>Cores de Destaque</h5>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Cor Primária</label>
                                <input type="color" class="form-control form-control-color" id="primaryColor" value="#4A90E2" title="Escolha uma cor">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Cor Secundária</label>
                                <input type="color" class="form-control form-control-color" id="secondaryColor" value="#50C878" title="Escolha uma cor">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Cor de Acento</label>
                                <input type="color" class="form-control form-control-color" id="accentColor" value="#E94B3C" title="Escolha uma cor">
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="btn btn-outline-secondary me-md-2" id="resetAppearanceBtn">
                            <i class="fas fa-undo me-1"></i> Restaurar Padrão
                        </button>
                        <button class="btn btn-success" id="saveAppearanceBtn">
                            <i class="fas fa-save me-1"></i> Salvar Aparência
                        </button>
                    </div>
                </div>
                
                <!-- Notificações Settings -->
                <div class="settings-card d-none" id="notificationsSettings">
                    <h4><i class="fas fa-bell text-info me-2"></i> Notificações</h4>
                    <p class="text-muted">Gerencie as notificações do aplicativo</p>
                    
                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="enableNotifications" checked>
                        <label class="form-check-label" for="enableNotifications">
                            <strong>Ativar Notificações</strong>
                            <p class="text-muted mb-0">Receba notificações sobre atualizações e lembretes importantes</p>
                        </label>
                    </div>
                    
                    <div class="border-top pt-3">
                        <h5>Tipos de Notificação</h5>
                        
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="recipeReminders" checked>
                            <label class="form-check-label" for="recipeReminders">
                                <strong>Lembretes de Receitas</strong>
                                <p class="text-muted mb-0">Lembretes para preparar receitas agendadas</p>
                            </label>
                        </div>
                        
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="teamNotifications" checked>
                            <label class="form-check-label" for="teamNotifications">
                                <strong>Notificações de Equipe</strong>
                                <p class="text-muted mb-0">Atualizações sobre atividades da equipe</p>
                            </label>
                        </div>
                        
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="presentationReminders" checked>
                            <label class="form-check-label" for="presentationReminders">
                                <strong>Lembretes de Apresentação</strong>
                                <p class="text-muted mb-0">Lembretes sobre datas de apresentação</p>
                            </label>
                        </div>
                        
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="appUpdates" checked>
                            <label class="form-check-label" for="appUpdates">
                                <strong>Atualizações do Aplicativo</strong>
                                <p class="text-muted mb-0">Notificações sobre novas versões e recursos</p>
                            </label>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
                        <button class="btn btn-success" id="saveNotificationsBtn">
                            <i class="fas fa-save me-1"></i> Salvar Preferências
                        </button>
                    </div>
                </div>
                
                <!-- Privacidade Settings -->
                <div class="settings-card d-none" id="privacySettings">
                    <h4><i class="fas fa-shield-alt text-danger me-2"></i> Privacidade</h4>
                    <p class="text-muted">Gerencie suas configurações de privacidade</p>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Este aplicativo foi desenvolvido especificamente para uso educacional nas Escolas Municipais de Campo Grande. 
                        Todas as informações são tratadas com o máximo cuidado e respeito à privacidade dos alunos.
                    </div>
                    
                    <div class="mb-4">
                        <h5>Compartilhamento de Informações</h5>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="shareWithTeachers" checked>
                            <label class="form-check-label" for="shareWithTeachers">
                                <strong>Compartilhar com Professores</strong>
                                <p class="text-muted mb-0">Permitir que professores vejam suas receitas e atividades para fins educacionais</p>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="shareWithClassmates">
                            <label class="form-check-label" for="shareWithClassmates">
                                <strong>Compartilhar com Colegas</strong>
                                <p class="text-muted mb-0">Permitir que colegas de turma vejam suas receitas (em equipes)</p>
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="sharePublicly">
                            <label class="form-check-label" for="sharePublicly">
                                <strong>Compartilhar Publicamente</strong>
                                <p class="text-muted mb-0">Permitir que receitas sejam vistas por outros usuários do aplicativo</p>
                            </label>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h5>Dados Armazenados</h5>
                        <p>As seguintes informações são armazenadas para o funcionamento do aplicativo:</p>
                        <ul>
                            <li>Receitas criadas pelos alunos</li>
                            <li>Informações de perfil (nome, turma)</li>
                            <li>Progresso nas atividades</li>
                            <li>Configurações pessoais</li>
                        </ul>
                        
                        <button class="btn btn-outline-danger" id="requestDataBtn">
                            <i class="fas fa-download me-1"></i> Solicitar Cópia dos Meus Dados
                        </button>
                        <button class="btn btn-outline-danger ms-2" id="deleteAccountBtn">
                            <i class="fas fa-trash-alt me-1"></i> Excluir Minha Conta
                        </button>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="btn btn-success" id="savePrivacyBtn">
                            <i class="fas fa-save me-1"></i> Salvar Configurações
                        </button>
                    </div>
                </div>
                
                <!-- Sobre Settings -->
                <div class="settings-card d-none" id="aboutSettings">
                    <h4><i class="fas fa-info-circle text-info me-2"></i> Sobre o Aplicativo</h4>
                    
                    <div class="text-center mb-4">
                        <img src="https://via.placeholder.com/100x100/4A90E2/FFFFFF?text=S&S" alt="Logo Sabores e Sabores" class="img-fluid mb-3">
                        <h3>Livro de Receitas Históricas: Sabores e Sabores</h3>
                        <p class="text-muted">Versão 1.0.0</p>
                    </div>
                    
                    <div class="mb-4">
                        <h5>Descrição</h5>
                        <p>Este projeto é uma ferramenta educacional desenvolvida para auxiliar no ensino de História do 6º ao 9º ano do Ensino Fundamental nas Escolas Municipais de Campo Grande.</p>
                        
                        <p>Através da culinária histórica, os alunos exploram diferentes períodos e culturas, conectando o passado com o presente de forma prática e saborosa.</p>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h5>Objetivos Educacionais</h5>
                            <ul>
                                <li>Conectar História e culinária para um aprendizado mais envolvente</li>
                                <li>Promover o trabalho colaborativo entre estudantes</li>
                                <li>Desenvolver habilidades de pesquisa histórica</li>
                                <li>Fomentar o pensamento crítico sobre a cultura e alimentação</li>
                                <li>Valorizar saberes culinários ancestrais</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>Contato</h5>
                            <p><strong>Desenvolvedor:</strong><br>Prof. Luís Felipe Mesquita Granja</p>
                            <p><strong>Instituição:</strong><br>Secretaria Municipal de Educação de Campo Grande</p>
                            <p><strong>Email:</strong><br>lfgranja@educacao.cg.gov.br</p>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h5>Agradecimentos</h5>
                        <p>Agradecemos a todos os professores e alunos que contribuíram para o desenvolvimento deste projeto, tornando possível a conexão entre História e Gastronomia de forma inovadora e educativa.</p>
                    </div>
                    
                    <div class="text-center">
                        <button class="btn btn-outline-primary" id="checkUpdatesBtn">
                            <i class="fas fa-sync-alt me-1"></i> Verificar Atualizações
                        </button>
                        <button class="btn btn-outline-secondary ms-2" id="sendFeedbackBtn">
                            <i class="fas fa-comment-dots me-1"></i> Enviar Feedback
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
            <button class="btn btn-outline-secondary me-md-2" id="resetAllSettingsBtn">
                <i class="fas fa-undo me-1"></i> Restaurar Todas as Configurações Padrão
            </button>
            <button class="btn btn-primary" id="saveAllSettingsBtn">
                <i class="fas fa-save me-1"></i> Salvar Todas as Configurações
            </button>
        </div>
    </div>

    <!-- Modal Trocar Foto -->
    <div class="modal fade" id="changePhotoModal" tabindex="-1" aria-labelledby="changePhotoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="changePhotoModalLabel">Trocar Foto de Perfil</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <img src="https://via.placeholder.com/150x150/4A90E2/FFFFFF?text=Foto" alt="Foto de perfil" class="rounded-circle img-fluid mb-3" id="previewPhoto">
                    </div>
                    
                    <div class="d-grid gap-2">
                        <button class="btn btn-outline-primary" id="uploadPhotoBtn">
                            <i class="fas fa-upload me-1"></i> Enviar Nova Foto
                        </button>
                        <button class="btn btn-outline-secondary" id="takePhotoBtn">
                            <i class="fas fa-camera me-1"></i> Tirar Foto com Câmera
                        </button>
                        <button class="btn btn-outline-danger" id="removePhotoBtn">
                            <i class="fas fa-trash-alt me-1"></i> Remover Foto
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="savePhotoBtn">Salvar Foto</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Enviar Feedback -->
    <div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="feedbackModalLabel">Enviar Feedback</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Seu Nome</label>
                        <input type="text" class="form-control" id="feedbackName" placeholder="Nome completo">
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Email (Opcional)</label>
                        <input type="email" class="form-control" id="feedbackEmail" placeholder="seu.email@exemplo.com">
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Tipo de Feedback</label>
                        <select class="form-select" id="feedbackType">
                            <option value="suggestion">Sugestão</option>
                            <option value="bug">Problema/Bug</option>
                            <option value="compliment">Elogio</option>
                            <option value="other">Outro</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Mensagem *</label>
                        <textarea class="form-control" id="feedbackMessage" rows="4" placeholder="Descreva seu feedback..." required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="submitFeedbackBtn">
                        <i class="fas fa-paper-plane me-1"></i> Enviar Feedback
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Função para obter dados do localStorage
        function getData() {
            const defaultData = {
                "settings": {
                    "language": "pt",
                    "theme": "light",
                    "fontSize": 16,
                    "primaryColor": "#4A90E2",
                    "secondaryColor": "#50C878",
                    "accentColor": "#E94B3C",
                    "notifications": {
                        "enabled": true,
                        "recipeReminders": true,
                        "teamNotifications": true,
                        "presentationReminders": true,
                        "appUpdates": true
                    },
                    "privacy": {
                        "shareWithTeachers": true,
                        "shareWithClassmates": false,
                        "sharePublicly": false
                    },
                    "profile": {
                        "fullName": "Aluno Exemplar",
                        "studentClass": "6º Ano A",
                        "teacherName": "Luís Felipe Mesquita Granja",
                        "profileImage": "https://via.placeholder.com/150x150/4A90E2/FFFFFF?text=Foto"
                    }
                }
            };
            
            return JSON.parse(localStorage.getItem('recipeAppData') || JSON.stringify(defaultData));
        }

        // Função para salvar dados no localStorage
        function saveData(data) {
            localStorage.setItem('recipeAppData', JSON.stringify(data));
        }

        // Função para mostrar seção específica
        function showSection(sectionId) {
            // Ocultar todas as seções
            document.querySelectorAll('.settings-card').forEach(card => {
                card.classList.add('d-none');
            });
            
            // Mostrar seção selecionada
            document.getElementById(sectionId).classList.remove('d-none');
            
            // Atualizar menu lateral
            document.querySelectorAll('.list-group-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Adicionar classe ativa ao botão correspondente
            const buttonMap = {
                'languageSettings': 'languageSettingsBtn',
                'profileSettings': 'profileSettingsBtn',
                'appearanceSettings': 'appearanceSettingsBtn',
                'notificationsSettings': 'notificationsSettingsBtn',
                'privacySettings': 'privacySettingsBtn',
                'aboutSettings': 'aboutSettingsBtn'
            };
            
            if (buttonMap[sectionId]) {
                document.getElementById(buttonMap[sectionId]).classList.add('active');
            }
        }

        // Função para selecionar idioma
        function selectLanguage(language) {
            const data = getData();
            data.settings.language = language;
            saveData(data);
            
            // Atualizar interface
            document.querySelectorAll('.language-option').forEach(option => {
                option.classList.remove('active');
            });
            
            if (language === 'pt') {
                document.getElementById('portugueseOption').classList.add('active');
            } else {
                document.getElementById('englishOption').classList.add('active');
            }
            
            alert(`Idioma alterado para ${language === 'pt' ? 'Português' : 'Inglês'}!`);
        }

        // Função para selecionar tema
        function selectTheme(theme) {
            const data = getData();
            data.settings.theme = theme;
            saveData(data);
            
            // Atualizar interface
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('active');
            });
            
            document.getElementById(`${theme}ThemeOption`).classList.add('active');
            
            alert(`Tema alterado para ${theme === 'light' ? 'Claro' : theme === 'dark' ? 'Escuro' : 'Automático'}!`);
        }

        // Função para atualizar tamanho da fonte
        function updateFontSize(size) {
            const data = getData();
            data.settings.fontSize = size;
            saveData(data);
            
            // Atualizar interface
            document.getElementById('fontSizeValue').textContent = `${size}px`;
            
            // Atualizar prévia
            const preview = document.getElementById('fontPreview');
            preview.style.fontSize = `${size}px`;
        }

        // Função para salvar perfil
        function saveProfile() {
            const fullName = document.getElementById('fullName').value.trim();
            const studentClass = document.getElementById('studentClass').value;
            
            if (!fullName) {
                alert('Por favor, informe seu nome completo.');
                return;
            }
            
            const data = getData();
            data.settings.profile.fullName = fullName;
            data.settings.profile.studentClass = studentClass;
            saveData(data);
            
            alert('Perfil salvo com sucesso!');
        }

        // Função para resetar perfil
        function resetProfile() {
            if (confirm('Tem certeza que deseja restaurar as informações do perfil?')) {
                const data = getData();
                document.getElementById('fullName').value = data.settings.profile.fullName;
                document.getElementById('studentClass').value = data.settings.profile.studentClass;
                document.getElementById('teacherName').value = data.settings.profile.teacherName;
                document.getElementById('profileImage').src = data.settings.profile.profileImage;
                
                alert('Informações do perfil restauradas!');
            }
        }

        // Função para salvar aparência
        function saveAppearance() {
            const fontSize = document.getElementById('fontSizeRange').value;
            const primaryColor = document.getElementById('primaryColor').value;
            const secondaryColor = document.getElementById('secondaryColor').value;
            const accentColor = document.getElementById('accentColor').value;
            
            const data = getData();
            data.settings.fontSize = parseInt(fontSize);
            data.settings.primaryColor = primaryColor;
            data.settings.secondaryColor = secondaryColor;
            data.settings.accentColor = accentColor;
            saveData(data);
            
            alert('Configurações de aparência salvas com sucesso!');
        }

        // Função para resetar aparência
        function resetAppearance() {
            if (confirm('Tem certeza que deseja restaurar as configurações de aparência padrão?')) {
                // Resetar valores
                document.getElementById('fontSizeRange').value = 16;
                document.getElementById('primaryColor').value = '#4A90E2';
                document.getElementById('secondaryColor').value = '#50C878';
                document.getElementById('accentColor').value = '#E94B3C';
                
                // Atualizar interface
                updateFontSize(16);
                
                // Resetar temas
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.classList.remove('active');
                });
                document.getElementById('lightThemeOption').classList.add('active');
                
                alert('Configurações de aparência restauradas para o padrão!');
            }
        }

        // Função para salvar notificações
        function saveNotifications() {
            const data = getData();
            data.settings.notifications.enabled = document.getElementById('enableNotifications').checked;
            data.settings.notifications.recipeReminders = document.getElementById('recipeReminders').checked;
            data.settings.notifications.teamNotifications = document.getElementById('teamNotifications').checked;
            data.settings.notifications.presentationReminders = document.getElementById('presentationReminders').checked;
            data.settings.notifications.appUpdates = document.getElementById('appUpdates').checked;
            saveData(data);
            
            alert('Configurações de notificações salvas com sucesso!');
        }

        // Função para salvar privacidade
        function savePrivacy() {
            const data = getData();
            data.settings.privacy.shareWithTeachers = document.getElementById('shareWithTeachers').checked;
            data.settings.privacy.shareWithClassmates = document.getElementById('shareWithClassmates').checked;
            data.settings.privacy.sharePublicly = document.getElementById('sharePublicly').checked;
            saveData(data);
            
            alert('Configurações de privacidade salvas com sucesso!');
        }

        // Função para solicitar dados
        function requestData() {
            alert('Solicitação de cópia dos seus dados enviada!\n\nNa versão completa, você receberia um email com um link para baixar seus dados em formato legível.');
        }

        // Função para excluir conta
        function deleteAccount() {
            if (confirm('ATENÇÃO: Esta ação é irreversível!\n\nTem certeza que deseja excluir permanentemente sua conta e todos os seus dados?')) {
                alert('Conta excluída com sucesso!\n\nNa versão completa, todos os seus dados seriam permanentemente removidos dos nossos servidores.');
            }
        }

        // Função para verificar atualizações
        function checkUpdates() {
            alert('Verificando atualizações...\n\nNa versão completa, isso procuraria por novas versões do aplicativo.\n\nVersão atual: 1.0.0\nÚltima versão disponível: 1.0.0\n\nSeu aplicativo está atualizado!');
        }

        // Função para enviar feedback
        function sendFeedback() {
            const modal = new bootstrap.Modal(document.getElementById('feedbackModal'));
            modal.show();
        }

        // Função para enviar feedback (modal)
        function submitFeedback() {
            const name = document.getElementById('feedbackName').value.trim();
            const email = document.getElementById('feedbackEmail').value.trim();
            const type = document.getElementById('feedbackType').value;
            const message = document.getElementById('feedbackMessage').value.trim();
            
            if (!name) {
                alert('Por favor, informe seu nome.');
                return;
            }
            
            if (!message) {
                alert('Por favor, escreva sua mensagem.');
                return;
            }
            
            // Em uma implementação real, isso enviaria o feedback para um servidor
            alert('Obrigado pelo seu feedback!\n\nNa versão completa, sua mensagem seria enviada para nossa equipe de desenvolvimento.');
            
            // Fechar modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('feedbackModal'));
            modal.hide();
            
            // Resetar formulário
            document.getElementById('feedbackName').value = '';
            document.getElementById('feedbackEmail').value = '';
            document.getElementById('feedbackType').value = 'suggestion';
            document.getElementById('feedbackMessage').value = '';
        }

        // Função para resetar todas as configurações
        function resetAllSettings() {
            if (confirm('ATENÇÃO: Esta ação restaurará todas as configurações para os valores padrão!\n\nTem certeza que deseja continuar?')) {
                // Resetar todas as configurações
                const data = getData();
                data.settings = {
                    "language": "pt",
                    "theme": "light",
                    "fontSize": 16,
                    "primaryColor": "#4A90E2",
                    "secondaryColor": "#50C878",
                    "accentColor": "#E94B3C",
                    "notifications": {
                        "enabled": true,
                        "recipeReminders": true,
                        "teamNotifications": true,
                        "presentationReminders": true,
                        "appUpdates": true
                    },
                    "privacy": {
                        "shareWithTeachers": true,
                        "shareWithClassmates": false,
                        "sharePublicly": false
                    },
                    "profile": {
                        "fullName": "Aluno Exemplar",
                        "studentClass": "6º Ano A",
                        "teacherName": "Luís Felipe Mesquita Granja",
                        "profileImage": "https://via.placeholder.com/150x150/4A90E2/FFFFFF?text=Foto"
                    }
                };
                saveData(data);
                
                // Resetar interface
                document.getElementById('fullName').value = data.settings.profile.fullName;
                document.getElementById('studentClass').value = data.settings.profile.studentClass;
                document.getElementById('teacherName').value = data.settings.profile.teacherName;
                document.getElementById('profileImage').src = data.settings.profile.profileImage;
                
                document.getElementById('fontSizeRange').value = data.settings.fontSize;
                updateFontSize(data.settings.fontSize);
                
                document.getElementById('primaryColor').value = data.settings.primaryColor;
                document.getElementById('secondaryColor').value = data.settings.secondaryColor;
                document.getElementById('accentColor').value = data.settings.accentColor;
                
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.classList.remove('active');
                });
                document.getElementById('lightThemeOption').classList.add('active');
                
                document.querySelectorAll('.language-option').forEach(option => {
                    option.classList.remove('active');
                });
                document.getElementById('portugueseOption').classList.add('active');
                
                alert('Todas as configurações foram restauradas para os valores padrão!');
            }
        }

        // Função para salvar todas as configurações
        function saveAllSettings() {
            // Coletar e salvar todas as configurações
            const data = getData();
            
            // Perfil
            const fullName = document.getElementById('fullName').value.trim();
            const studentClass = document.getElementById('studentClass').value;
            if (fullName) {
                data.settings.profile.fullName = fullName;
            }
            data.settings.profile.studentClass = studentClass;
            
            // Aparência
            data.settings.fontSize = parseInt(document.getElementById('fontSizeRange').value);
            data.settings.primaryColor = document.getElementById('primaryColor').value;
            data.settings.secondaryColor = document.getElementById('secondaryColor').value;
            data.settings.accentColor = document.getElementById('accentColor').value;
            
            // Notificações
            data.settings.notifications.enabled = document.getElementById('enableNotifications').checked;
            data.settings.notifications.recipeReminders = document.getElementById('recipeReminders').checked;
            data.settings.notifications.teamNotifications = document.getElementById('teamNotifications').checked;
            data.settings.notifications.presentationReminders = document.getElementById('presentationReminders').checked;
            data.settings.notifications.appUpdates = document.getElementById('appUpdates').checked;
            
            // Privacidade
            data.settings.privacy.shareWithTeachers = document.getElementById('shareWithTeachers').checked;
            data.settings.privacy.shareWithClassmates = document.getElementById('shareWithClassmates').checked;
            data.settings.privacy.sharePublicly = document.getElementById('sharePublicly').checked;
            
            saveData(data);
            
            alert('Todas as configurações foram salvas com sucesso!');
        }

        // Função para inicializar a página
        function init() {
            // Carregar dados iniciais
            const data = getData();
            
            // Atualizar interface com dados salvos
            document.getElementById('fullName').value = data.settings.profile.fullName;
            document.getElementById('studentClass').value = data.settings.profile.studentClass;
            document.getElementById('teacherName').value = data.settings.profile.teacherName;
            document.getElementById('profileImage').src = data.settings.profile.profileImage;
            
            document.getElementById('fontSizeRange').value = data.settings.fontSize;
            updateFontSize(data.settings.fontSize);
            
            document.getElementById('primaryColor').value = data.settings.primaryColor;
            document.getElementById('secondaryColor').value = data.settings.secondaryColor;
            document.getElementById('accentColor').value = data.settings.accentColor;
            
            document.getElementById('enableNotifications').checked = data.settings.notifications.enabled;
            document.getElementById('recipeReminders').checked = data.settings.notifications.recipeReminders;
            document.getElementById('teamNotifications').checked = data.settings.notifications.teamNotifications;
            document.getElementById('presentationReminders').checked = data.settings.notifications.presentationReminders;
            document.getElementById('appUpdates').checked = data.settings.notifications.appUpdates;
            
            document.getElementById('shareWithTeachers').checked = data.settings.privacy.shareWithTeachers;
            document.getElementById('shareWithClassmates').checked = data.settings.privacy.shareWithClassmates;
            document.getElementById('sharePublicly').checked = data.settings.privacy.sharePublicly;
            
            // Adicionar eventos aos botões do menu
            document.getElementById('languageSettingsBtn').addEventListener('click', function() {
                showSection('languageSettings');
            });
            
            document.getElementById('profileSettingsBtn').addEventListener('click', function() {
                showSection('profileSettings');
            });
            
            document.getElementById('appearanceSettingsBtn').addEventListener('click', function() {
                showSection('appearanceSettings');
            });
            
            document.getElementById('notificationsSettingsBtn').addEventListener('click', function() {
                showSection('notificationsSettings');
            });
            
            document.getElementById('privacySettingsBtn').addEventListener('click', function() {
                showSection('privacySettings');
            });
            
            document.getElementById('aboutSettingsBtn').addEventListener('click', function() {
                showSection('aboutSettings');
            });
            
            // Adicionar eventos para seleção de idioma
            document.getElementById('portugueseOption').addEventListener('click', function() {
                selectLanguage('pt');
            });
            
            document.getElementById('englishOption').addEventListener('click', function() {
                selectLanguage('en');
            });
            
            // Adicionar eventos para seleção de tema
            document.getElementById('lightThemeOption').addEventListener('click', function() {
                selectTheme('light');
            });
            
            document.getElementById('darkThemeOption').addEventListener('click', function() {
                selectTheme('dark');
            });
            
            document.getElementById('autoThemeOption').addEventListener('click', function() {
                selectTheme('auto');
            });
            
            // Adicionar evento para mudança de tamanho da fonte
            document.getElementById('fontSizeRange').addEventListener('input', function() {
                updateFontSize(this.value);
            });
            
            // Adicionar eventos para salvar/resetar configurações
            document.getElementById('saveProfileBtn').addEventListener('click', saveProfile);
            document.getElementById('resetProfileBtn').addEventListener('click', resetProfile);
            document.getElementById('saveAppearanceBtn').addEventListener('click', saveAppearance);
            document.getElementById('resetAppearanceBtn').addEventListener('click', resetAppearance);
            document.getElementById('saveNotificationsBtn').addEventListener('click', saveNotifications);
            document.getElementById('savePrivacyBtn').addEventListener('click', savePrivacy);
            document.getElementById('saveAllSettingsBtn').addEventListener('click', saveAllSettings);
            document.getElementById('resetAllSettingsBtn').addEventListener('click', resetAllSettings);
            
            // Adicionar eventos para privacidade
            document.getElementById('requestDataBtn').addEventListener('click', requestData);
            document.getElementById('deleteAccountBtn').addEventListener('click', deleteAccount);
            
            // Adicionar eventos para "Sobre"
            document.getElementById('checkUpdatesBtn').addEventListener('click', checkUpdates);
            document.getElementById('sendFeedbackBtn').addEventListener('click', sendFeedback);
            
            // Adicionar evento para enviar feedback (modal)
            document.getElementById('submitFeedbackBtn').addEventListener('click', submitFeedback);
            
            // Evento para voltar à página principal
            document.querySelector('.btn-outline-light').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'index.html';
            });
        }

        // Inicializar quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', init);
    </script>
    <script src="js/i18n.js"></script>
</body>
</html>